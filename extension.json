{
	"name": "WikimediaEvents",
	"version": "1.2.0",
	"author": [
		"Matthew Flaschen",
		"Ori Livneh",
		"Benny Situ"
	],
	"url": "https://www.mediawiki.org/wiki/Extension:WikimediaEvents",
	"descriptionmsg": "wikimediaevents-desc",
	"license-name": "GPL-2.0-or-later",
	"requires": {
		"MediaWiki": ">= 1.38.0",
		"extensions": {
			"EventLogging": "*"
		}
	},
	"AutoloadNamespaces": {
		"WikimediaEvents\\": "includes/"
	},
	"TestAutoloadNamespaces": {
		"WikimediaEvents\\Tests\\": "tests/phpunit/"
	},
	"Hooks": {
		"BeforeInitialize": "WikimediaEvents\\WikimediaEventsHooks::onBeforeInitializeWMDECampaign",
		"BeforePageDisplay": "WikimediaEvents\\WikimediaEventsHooks::onBeforePageDisplay",
		"PageSaveComplete": "WikimediaEvents\\WikimediaEventsHooks::onPageSaveComplete",
		"PreferencesFormPreSave": "WikimediaEvents\\VectorPrefDiffInstrumentation::onPreferencesFormPreSave",
		"SaveUserOptions": "WikimediaEvents\\PrefUpdateInstrumentation::onSaveUserOptions",
		"ArticleViewHeader": "WikimediaEvents\\WikimediaEventsHooks::onArticleViewHeader",
		"EditPageBeforeConflictDiff": "WikimediaEvents\\WikimediaEventsHooks::onEditPageBeforeConflictDiff",
		"ResourceLoaderGetConfigVars": "WikimediaEvents\\WikimediaEventsHooks::onResourceLoaderGetConfigVars",
		"ListDefinedTags": "WikimediaEvents\\WikimediaEventsHooks::onListDefinedTags",
		"ChangeTagsListActive": "WikimediaEvents\\WikimediaEventsHooks::onChangeTagsListActive",
		"XAnalyticsSetHeader": "WikimediaEvents\\WikimediaEventsHooks::onXAnalyticsSetHeader",
		"SpecialSearchGoResult": "WikimediaEvents\\WikimediaEventsHooks::onSpecialSearchGoResult",
		"SpecialSearchResults": "WikimediaEvents\\WikimediaEventsHooks::onSpecialSearchResults",
		"RecentChange_save": [
			"WikimediaEvents\\WikimediaEventsHooks::onRecentChangeSaveCrossWikiUpload",
			"WikimediaEvents\\WikimediaEventsHooks::onRecentChangeSaveEditCampaign"
		],
		"ResourceLoaderRegisterModules": "WikimediaEvents\\WikimediaEventsHooks::onResourceLoaderRegisterModules",
		"RevisionRecordInserted": "WikimediaEvents\\WikimediaEventsHooks::onRevisionRecordInserted",
		"MakeGlobalVariablesScript": "WikimediaEvents\\WikimediaEventsHooks::onMakeGlobalVariablesScript",
		"SpecialMuteSubmit": "WikimediaEvents\\WikimediaEventsHooks::onSpecialMuteSubmit"
	},
	"MessagesDirs": {
		"WikimediaEvents": [
			"i18n"
		]
	},
	"attributes": {
		"EventLogging": {
			"Schemas": {
				"DesktopWebUIActionsTracking": "/analytics/legacy/desktopwebuiactionstracking/1.0.0",
				"EditAttemptStep": "/analytics/legacy/editattemptstep/1.2.0",
				"VisualEditorFeatureUse": "/analytics/legacy/visualeditorfeatureuse/1.0.0",
				"PrefUpdate": "/analytics/legacy/prefupdate/1.0.0",
				"SearchSatisfaction": "/analytics/legacy/searchsatisfaction/1.4.0",
				"SpecialMuteSubmit": "/analytics/legacy/specialmutesubmit/1.0.0",
				"ChangesListHighlights": 16484288,
				"ChangesListFilterGrouping": 17008168,
				"MobileWebUIActionsTracking": "/analytics/legacy/mobilewebuiactionstracking/1.1.0",
				"WMDEBannerEvents": "/analytics/legacy/wmdebannerevents/1.0.0",
				"WMDEBannerInteractions": "/analytics/legacy/wmdebannerinteractions/1.0.0",
				"WMDEBannerSizeIssue": "/analytics/legacy/wmdebannersizeissue/1.0.0",
				"WikidataCompletionSearchClicks": "/analytics/legacy/wikidatacompletionsearchclicks/1.0.0",
				"Test": "/analytics/legacy/test/1.2.0",
				"UniversalLanguageSelector": "/analytics/legacy/universallanguageselector/1.4.0"
			}
		},
		"VisualEditor": {
			"PluginModules": [
				"ext.wikimediaEvents.visualEditor"
			]
		}
	},
	"ResourceModules": {
		"ext.wikimediaEvents": {
			"localBasePath": "modules/ext.wikimediaEvents",
			"remoteExtPath": "WikimediaEvents/modules/ext.wikimediaEvents",
			"packageFiles": [
				"index.js",
				"events.js",
				"statsd.js",
				"deprecate.js",
				"clientError.js",
				"sessionTick.js",
				"webABTestEnrollment.js",
				"ipAddressCopyAction.js",
				"webUIScroll.js",
				"readingDepth.js",
				{
					"name": "searchSatisfaction.js",
					"callback": "WikimediaEvents\\WikimediaEventsHooks::getModuleFile",
					"callbackParam": "searchSatisfaction"
				},
				{
					"name": "desktopWebUIActions.js",
					"callback": "WikimediaEvents\\WikimediaEventsHooks::getModuleFile",
					"callbackParam": "desktopWebUIActions"
				},
				{
					"name": "mobileWebUIActions.js",
					"callback": "WikimediaEvents\\WikimediaEventsHooks::getModuleFile",
					"callbackParam": "mobileWebUIActions"
				},
				{
					"name": "universalLanguageSelector.js",
					"callback": "WikimediaEvents\\WikimediaEventsHooks::getModuleFile",
					"callbackParam": "universalLanguageSelector"
				},
				{
					"name": "config.json",
					"callback": "WikimediaEvents\\WikimediaEventsHooks::getModuleConfig"
				}
			],
			"dependencies": [
				"ext.eventLogging",
				"mediawiki.user",
				"mediawiki.cookie",
				"mediawiki.Uri",
				"mediawiki.experiments",
				"mediawiki.storage",
				"mediawiki.visibleTimeout"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.wikimediaEvents.wikibase": {
			"localBasePath": "modules/ext.wikimediaEvents.wikibase",
			"remoteExtPath": "WikimediaEvents/modules/ext.wikimediaEvents.wikibase",
			"packageFiles": [
				"completionClicks.js",
				{
					"name": "config.json",
					"config": {
						"wikidataCompletionSearchClicks": "WMEWikidataCompletionSearchClicks"
					}
				}
			],
			"dependencies": [
				"ext.eventLogging",
				"mediawiki.user",
				"mediawiki.experiments"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		}
	},
	"ResourceFileModulePaths": {
		"localBasePath": "modules/",
		"remoteExtPath": "WikimediaEvents/modules"
	},
	"QUnitTestModule": {
		"localBasePath": "",
		"remoteExtPath": "WikimediaEvents/",
		"packageFiles": [
			"tests/qunit/ext.wikimediaEvents/index.js",
			"tests/qunit/ext.wikimediaEvents/clientError.test.js",
			"modules/ext.wikimediaEvents/clientError.js",
			"tests/qunit/ext.wikimediaEvents/ipAddressCopyAction.test.js",
			"modules/ext.wikimediaEvents/ipAddressCopyAction.js",
			{
				"name": "modules/ext.wikimediaEvents/config.json",
				"content": {
					"ipAddressCopyActionEnabled": true
				}
			}
		]
	},
	"config": {
		"WMEReadingDepthSamplingRate": {
			"value": 0
		},
		"WMEDesktopWebUIActionsTracking": {
			"value": 0
		},
		"WMEDesktopWebUIActionsTrackingOversampleLoggedInUsers": {
			"value": true
		},
		"WMEWebUIScrollTrackingSamplingRate": {
			"value": 0
		},
		"WMEWebUIScrollTrackingTimeToWaitBeforeScrollUp": {
			"value": 0
		},
		"WMEMobileWebUIActionsTracking": {
			"value": 0
		},
		"WMEStatsdBaseUri": {
			"value": false
		},
		"WMEEditCampaigns": {
			"value": []
		},
		"WMESchemaEditAttemptStepSamplingRate": {
			"value": "0.0625"
		},
		"WMEWikidataCompletionSearchClicks": {
			"value": []
		},
		"WMEClientErrorIntakeURL": {
			"value": false
		},
		"WMESessionTick": {
			"value": false
		},
		"WMEVectorPrefDiffSalt": {
			"value": null,
			"description": "@var string Used as a salt in VectorPrefDiffInstrumentation to hash the user id. Set this in `wmf-config/PrivateSettings`."
		},
		"WMEIPAddressCopyActionEnabled": {
			"value": false,
			"description": "Whether the Anti-Harassment Tools team's \"IP address copy action\" instrument is enabled. See https://phabricator.wikimedia.org/T273021 and associated tasks for detail."
		}
	},
	"manifest_version": 2
}
